{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{useNavigate,useParams}from'react-router-dom';import{Box,Paper,Typography,Button,Grid,Chip,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TablePagination,TextField,InputAdornment,IconButton,CircularProgress,Alert,Menu,MenuItem,ListItemIcon,ListItemText,Tooltip,Card,CardContent,Divider,useTheme}from'@mui/material';import{Inbox as InboxIcon,Search as SearchIcon,FilterList as FilterIcon,MoreVert as MoreIcon,Description as DocumentIcon,PlayArrow as StartIcon,Visibility as ViewIcon,ArrowForward as ArrowIcon,Archive as ArchiveIcon,People as PeopleIcon,Notifications as NotificationIcon,Receipt as InvoiceIcon,Assignment as ContractIcon,Assessment as ReportIcon,FileCopy as FormIcon,Folder as OtherIcon,Delete as DeleteIcon}from'@mui/icons-material';import{AuthContext}from'../../context/AuthContext';import{format}from'date-fns';import{de}from'date-fns/locale';import api from'../../services/api';// Dokument-Typen mit Icons\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const documentTypes={invoice:{icon:/*#__PURE__*/_jsx(InvoiceIcon,{}),label:'Rechnung',color:'#ff9800'},contract:{icon:/*#__PURE__*/_jsx(ContractIcon,{}),label:'Vertrag',color:'#2196f3'},report:{icon:/*#__PURE__*/_jsx(ReportIcon,{}),label:'Bericht',color:'#4caf50'},form:{icon:/*#__PURE__*/_jsx(FormIcon,{}),label:'Formular',color:'#9c27b0'},other:{icon:/*#__PURE__*/_jsx(OtherIcon,{}),label:'Sonstiges',color:'#607d8b'}};// Workflow-Status mit Farben\nconst workflowStatus={not_started:{label:'Nicht gestartet',color:'#9e9e9e'},in_progress:{label:'In Bearbeitung',color:'#2196f3'},completed:{label:'Abgeschlossen',color:'#4caf50'},canceled:{label:'Abgebrochen',color:'#f44336'}};// Dummy-Daten für Postkörbe generieren\nconst generateDummyInboxData=inboxId=>{// Postkorb-Informationen basierend auf ID\nconst inboxes={'inbox1':{_id:'inbox1',name:'Eingang',description:'Allgemeiner Posteingang für neue Dokumente',type:'department',assignedUsers:[{_id:'user1',name:'Max Mustermann'},{_id:'user2',name:'Erika Musterfrau'}],documentCount:28},'inbox2':{_id:'inbox2',name:'Rechnungswesen',description:'Dokumente für die Buchhaltung und Finanzen',type:'department',assignedUsers:[{_id:'user3',name:'Thomas Test'},{_id:'user4',name:'Sabine Schmidt'}],documentCount:15},'inbox3':{_id:'inbox3',name:'Vertrieb',description:'Dokumente für den Vertrieb und Aufträge',type:'department',assignedUsers:[{_id:'user5',name:'Peter Peters'},{_id:'user6',name:'Laura Lang'}],documentCount:22}};// Wenn die ID nicht existiert, Standardpostkorb verwenden\nconst inbox=inboxes[inboxId]||inboxes['inbox1'];// Dokumente für den Postkorb generieren\nconst documents=[];const types=Object.keys(documentTypes);for(let i=1;i<=inbox.documentCount;i++){const docType=types[Math.floor(Math.random()*types.length)];const hasWorkflow=Math.random()>0.3;const workflowType=hasWorkflow?['not_started','in_progress','completed'][Math.floor(Math.random()*3)]:null;const createdDate=new Date();createdDate.setDate(createdDate.getDate()-Math.floor(Math.random()*30));documents.push({_id:`doc${i}_${inboxId}`,title:`${documentTypes[docType].label} ${i} (${inbox.name})`,documentType:docType,createdAt:createdDate,uploadedBy:inbox.assignedUsers[Math.floor(Math.random()*inbox.assignedUsers.length)],size:Math.floor(Math.random()*10000000)+100000,// Zufällige Dateigröße\ncurrentWorkflow:hasWorkflow?{status:workflowType,workflow:{_id:`workflow${Math.floor(Math.random()*5)+1}`,name:['Rechnungsfreigabe','Vertragsfreigabe','Berichterstellung','Dokumentprüfung','Genehmigungsprozess'][Math.floor(Math.random()*5)]}}:null});}// Nach Datum sortieren (neueste zuerst)\nreturn{inbox,documents:documents.sort((a,b)=>b.createdAt-a.createdAt)};};// Beispiel-Workflows\nconst availableWorkflows=[{_id:'workflow1',name:'Rechnungsfreigabe'},{_id:'workflow2',name:'Vertragsfreigabe'},{_id:'workflow3',name:'Berichterstellung'},{_id:'workflow4',name:'Dokumentprüfung'},{_id:'workflow5',name:'Genehmigungsprozess'}];const InboxView=()=>{const{id}=useParams();const theme=useTheme();const navigate=useNavigate();const{user}=useContext(AuthContext);// State für Postkorb und Dokumente\nconst[inbox,setInbox]=useState(null);const[documents,setDocuments]=useState([]);const[filteredDocuments,setFilteredDocuments]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Pagination-State\nconst[page,setPage]=useState(0);const[rowsPerPage,setRowsPerPage]=useState(10);// Such-/Filterstate\nconst[searchTerm,setSearchTerm]=useState('');const[filterAnchorEl,setFilterAnchorEl]=useState(null);const[activeFilter,setActiveFilter]=useState('all');// Auswahl und Aktionen\nconst[selectedDocs,setSelectedDocs]=useState([]);const[docActionAnchorEl,setDocActionAnchorEl]=useState(null);const[selectedDoc,setSelectedDoc]=useState(null);// Workflow-Dialog\nconst[workflowAnchorEl,setWorkflowAnchorEl]=useState(null);// Daten laden\nuseEffect(()=>{const fetchInboxData=async()=>{try{// In einer realen App würden die Daten von der API geladen werden\n// const response = await api.get(`/api/inboxes/${id}/documents`);\n// Für Demo-Zwecke verwenden wir Dummy-Daten\nsetTimeout(()=>{const dummyData=generateDummyInboxData(id);setInbox(dummyData.inbox);setDocuments(dummyData.documents);setFilteredDocuments(dummyData.documents);setLoading(false);},1000);}catch(error){console.error('Fehler beim Laden der Postkorb-Daten:',error);setError('Fehler beim Laden der Postkorb-Daten. Bitte versuchen Sie es später erneut.');setLoading(false);}};fetchInboxData();},[id]);// Dokumente filtern\nuseEffect(()=>{if(!documents.length)return;let filtered=[...documents];// Textsuche\nif(searchTerm){const searchLower=searchTerm.toLowerCase();filtered=filtered.filter(doc=>{var _doc$currentWorkflow;return doc.title.toLowerCase().includes(searchLower)||((_doc$currentWorkflow=doc.currentWorkflow)===null||_doc$currentWorkflow===void 0?void 0:_doc$currentWorkflow.workflow.name)&&doc.currentWorkflow.workflow.name.toLowerCase().includes(searchLower)||doc.uploadedBy.name.toLowerCase().includes(searchLower);});}// Status-Filter\nif(activeFilter==='no_workflow'){filtered=filtered.filter(doc=>!doc.currentWorkflow);}else if(activeFilter==='in_progress'){filtered=filtered.filter(doc=>doc.currentWorkflow&&['not_started','in_progress'].includes(doc.currentWorkflow.status));}else if(activeFilter==='completed'){filtered=filtered.filter(doc=>doc.currentWorkflow&&doc.currentWorkflow.status==='completed');}setFilteredDocuments(filtered);setPage(0);// Zurück zur ersten Seite bei Filteränderung\n},[documents,searchTerm,activeFilter]);// Filter-Handler\nconst handleFilterClick=event=>{setFilterAnchorEl(event.currentTarget);};const handleFilterClose=()=>{setFilterAnchorEl(null);};const handleFilterChange=filter=>{setActiveFilter(filter);handleFilterClose();};// Such-Handler\nconst handleSearchChange=event=>{setSearchTerm(event.target.value);};// Pagination-Handler\nconst handleChangePage=(event,newPage)=>{setPage(newPage);};const handleChangeRowsPerPage=event=>{setRowsPerPage(parseInt(event.target.value,10));setPage(0);};// Dokument-Auswahl\nconst handleSelectDoc=doc=>{const isSelected=selectedDocs.some(d=>d._id===doc._id);if(isSelected){setSelectedDocs(selectedDocs.filter(d=>d._id!==doc._id));}else{setSelectedDocs([...selectedDocs,doc]);}};// Dokument-Aktionen\nconst handleDocActionClick=(event,doc)=>{event.stopPropagation();setDocActionAnchorEl(event.currentTarget);setSelectedDoc(doc);};const handleDocActionClose=()=>{setDocActionAnchorEl(null);setSelectedDoc(null);};const handleViewDocument=()=>{navigate(`/documents/${selectedDoc._id}`);handleDocActionClose();};// Workflow-Aktionen\nconst handleWorkflowClick=event=>{event.stopPropagation();setWorkflowAnchorEl(event.currentTarget);};const handleWorkflowClose=()=>{setWorkflowAnchorEl(null);};const handleStartWorkflow=workflow=>{// In einer realen App würde hier ein API-Aufruf gemacht werden\n// await api.post(`/api/workflows/${workflow._id}/start/${selectedDoc._id}`);\n// Für Demo-Zwecke aktualisieren wir den Status lokal\nalert(`Workflow \"${workflow.name}\" für Dokument \"${selectedDoc.title}\" gestartet`);// Dokument aktualisieren\nconst updatedDocs=documents.map(doc=>{if(doc._id===selectedDoc._id){return{...doc,currentWorkflow:{status:'not_started',workflow:{_id:workflow._id,name:workflow.name}}};}return doc;});setDocuments(updatedDocs);handleDocActionClose();handleWorkflowClose();};// Hilfsfunktionen\nconst formatDate=date=>{if(!date)return'';try{return format(new Date(date),'dd.MM.yyyy',{locale:de});}catch(error){return'Ungültiges Datum';}};const formatFileSize=bytes=>{if(bytes<1024)return bytes+' B';if(bytes<1024*1024)return(bytes/1024).toFixed(1)+' KB';return(bytes/(1024*1024)).toFixed(1)+' MB';};// Dokument-Icon basierend auf Typ rendern\nconst renderDocumentTypeIcon=type=>{const docType=documentTypes[type]||documentTypes.other;return/*#__PURE__*/_jsx(Tooltip,{title:docType.label,children:/*#__PURE__*/_jsx(Box,{sx:{color:docType.color,display:'flex'},children:docType.icon})});};// Workflow-Status-Chip rendern\nconst renderWorkflowStatus=doc=>{if(!doc.currentWorkflow){return/*#__PURE__*/_jsx(Chip,{label:\"Kein Workflow\",size:\"small\",variant:\"outlined\",sx:{color:theme.palette.text.secondary}});}const status=doc.currentWorkflow.status;const statusInfo=workflowStatus[status]||{label:status,color:'#757575'};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",noWrap:true,children:doc.currentWorkflow.workflow.name}),/*#__PURE__*/_jsx(Chip,{label:statusInfo.label,size:\"small\",sx:{backgroundColor:`${statusInfo.color}20`,color:statusInfo.color,fontWeight:'medium'}})]});};// Prüfen, ob ein Dokument ausgewählt ist\nconst isDocSelected=docId=>selectedDocs.some(doc=>doc._id===docId);// Paginierte Dokumente\nconst paginatedDocs=filteredDocuments.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage);// Leere Zeilen für Pagination\nconst emptyRows=rowsPerPage-Math.min(rowsPerPage,filteredDocuments.length-page*rowsPerPage);if(loading){return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>navigate('/'),sx:{mt:2},children:\"Zur\\xFCck zur Startseite\"})]});}if(!inbox){return/*#__PURE__*/_jsxs(Box,{sx:{p:3,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Postkorb nicht gefunden\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/'),sx:{mt:2},children:\"Zur\\xFCck zur Startseite\"})]});}return/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:1},children:[/*#__PURE__*/_jsx(InboxIcon,{sx:{fontSize:30,mr:1,color:theme.palette.primary.main}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:inbox.name})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:inbox.description})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:3},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:1},children:[/*#__PURE__*/_jsx(DocumentIcon,{color:\"primary\",sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Dokumente\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:documents.length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Dokumente in diesem Postkorb\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:1},children:[/*#__PURE__*/_jsx(PeopleIcon,{color:\"secondary\",sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Benutzer\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:inbox.assignedUsers.length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Zugewiesene Benutzer\"}),/*#__PURE__*/_jsx(Box,{sx:{mt:1,display:'flex',flexWrap:'wrap',gap:0.5},children:inbox.assignedUsers.map(user=>/*#__PURE__*/_jsx(Chip,{label:user.name,size:\"small\"},user._id))})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:1},children:[/*#__PURE__*/_jsx(NotificationIcon,{color:\"warning\",sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Aktivit\\xE4t\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",paragraph:true,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Letzte Aktivit\\xE4t:\"}),\" \",formatDate(new Date())]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Letzte Woche:\"}),\" \",Math.floor(documents.length*0.3),\" neue Dokumente\"]})]})})})]}),/*#__PURE__*/_jsx(Paper,{sx:{p:2,mb:3},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,placeholder:\"Dokumente durchsuchen...\",value:searchTerm,onChange:handleSearchChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})},size:\"small\"})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:4,sx:{display:'flex',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(FilterIcon,{}),onClick:handleFilterClick,sx:{mr:1},children:activeFilter==='all'?'Alle Dokumente':activeFilter==='no_workflow'?'Ohne Workflow':activeFilter==='in_progress'?'In Bearbeitung':activeFilter==='completed'?'Abgeschlossen':'Filter'}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(ArrowIcon,{}),onClick:()=>navigate('/documents/upload'),children:\"Neues Dokument\"}),/*#__PURE__*/_jsxs(Menu,{anchorEl:filterAnchorEl,open:Boolean(filterAnchorEl),onClose:handleFilterClose,children:[/*#__PURE__*/_jsxs(MenuItem,{selected:activeFilter==='all',onClick:()=>handleFilterChange('all'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(DocumentIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Alle Dokumente\"})]}),/*#__PURE__*/_jsxs(MenuItem,{selected:activeFilter==='no_workflow',onClick:()=>handleFilterChange('no_workflow'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ArchiveIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Ohne Workflow\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(MenuItem,{selected:activeFilter==='in_progress',onClick:()=>handleFilterChange('in_progress'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(StartIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"In Bearbeitung\"})]}),/*#__PURE__*/_jsxs(MenuItem,{selected:activeFilter==='completed',onClick:()=>handleFilterChange('completed'),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ArrowIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Abgeschlossen\"})]})]})]})]})}),/*#__PURE__*/_jsxs(Paper,{sx:{width:'100%',overflow:'hidden'},children:[/*#__PURE__*/_jsx(TableContainer,{sx:{maxHeight:'calc(100vh - 430px)'},children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{width:40}),/*#__PURE__*/_jsx(TableCell,{children:\"Titel\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Erstellt am\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Erstellt von\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Workflow-Status\"}),/*#__PURE__*/_jsx(TableCell,{width:80,children:\"Aktionen\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:paginatedDocs.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[paginatedDocs.map(doc=>/*#__PURE__*/_jsxs(TableRow,{hover:true,selected:isDocSelected(doc._id),onClick:()=>handleSelectDoc(doc),sx:{cursor:'pointer','&:hover':{backgroundColor:'action.hover'}},children:[/*#__PURE__*/_jsx(TableCell,{children:renderDocumentTypeIcon(doc.documentType)}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:'medium'},children:doc.title}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:formatFileSize(doc.size)})]}),/*#__PURE__*/_jsx(TableCell,{children:formatDate(doc.createdAt)}),/*#__PURE__*/_jsx(TableCell,{children:doc.uploadedBy.name}),/*#__PURE__*/_jsx(TableCell,{children:renderWorkflowStatus(doc)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Dokument anzeigen\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>{e.stopPropagation();navigate(`/documents/${doc._id}`);},children:/*#__PURE__*/_jsx(ViewIcon,{})})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>handleDocActionClick(e,doc),children:/*#__PURE__*/_jsx(MoreIcon,{})})]})})]},doc._id)),emptyRows>0&&/*#__PURE__*/_jsx(TableRow,{style:{height:53*emptyRows},children:/*#__PURE__*/_jsx(TableCell,{colSpan:6})})]}):/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:6,align:\"center\",sx:{py:3},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(DocumentIcon,{sx:{fontSize:50,color:'text.secondary',mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"Keine Dokumente gefunden\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Dieser Postkorb enth\\xE4lt keine Dokumente, die den Filterkriterien entsprechen.\"}),activeFilter!=='all'&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>handleFilterChange('all'),sx:{mt:2},children:\"Alle Dokumente anzeigen\"})]})})})})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:filteredDocuments.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage,labelRowsPerPage:\"Zeilen pro Seite:\",labelDisplayedRows:_ref=>{let{from,to,count}=_ref;return`${from}-${to} von ${count!==-1?count:`mehr als ${to}`}`;}})]}),/*#__PURE__*/_jsxs(Menu,{anchorEl:docActionAnchorEl,open:Boolean(docActionAnchorEl),onClose:handleDocActionClose,children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:handleViewDocument,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ViewIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Dokument anzeigen\"})]}),selectedDoc&&!selectedDoc.currentWorkflow&&/*#__PURE__*/_jsxs(MenuItem,{onClick:handleWorkflowClick,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(StartIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Workflow starten\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleDocActionClose,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(ListItemText,{sx:{color:'error.main'},children:\"Aus Postkorb entfernen\"})]})]}),/*#__PURE__*/_jsx(Menu,{anchorEl:workflowAnchorEl,open:Boolean(workflowAnchorEl),onClose:handleWorkflowClose,children:availableWorkflows.map(workflow=>/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>handleStartWorkflow(workflow),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(StartIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:workflow.name})]},workflow._id))})]});};export default InboxView;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","useParams","Box","Paper","Typography","Button","Grid","Chip","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","TextField","InputAdornment","IconButton","CircularProgress","Alert","Menu","MenuItem","ListItemIcon","ListItemText","Tooltip","Card","CardContent","Divider","useTheme","Inbox","InboxIcon","Search","SearchIcon","FilterList","FilterIcon","MoreVert","MoreIcon","Description","DocumentIcon","PlayArrow","StartIcon","Visibility","ViewIcon","ArrowForward","ArrowIcon","Archive","ArchiveIcon","People","PeopleIcon","Notifications","NotificationIcon","Receipt","InvoiceIcon","Assignment","ContractIcon","Assessment","ReportIcon","FileCopy","FormIcon","Folder","OtherIcon","Delete","DeleteIcon","AuthContext","format","de","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","documentTypes","invoice","icon","label","color","contract","report","form","other","workflowStatus","not_started","in_progress","completed","canceled","generateDummyInboxData","inboxId","inboxes","_id","name","description","type","assignedUsers","documentCount","inbox","documents","types","Object","keys","i","docType","Math","floor","random","length","hasWorkflow","workflowType","createdDate","Date","setDate","getDate","push","title","documentType","createdAt","uploadedBy","size","currentWorkflow","status","workflow","sort","a","b","availableWorkflows","InboxView","id","theme","navigate","user","setInbox","setDocuments","filteredDocuments","setFilteredDocuments","loading","setLoading","error","setError","page","setPage","rowsPerPage","setRowsPerPage","searchTerm","setSearchTerm","filterAnchorEl","setFilterAnchorEl","activeFilter","setActiveFilter","selectedDocs","setSelectedDocs","docActionAnchorEl","setDocActionAnchorEl","selectedDoc","setSelectedDoc","workflowAnchorEl","setWorkflowAnchorEl","fetchInboxData","setTimeout","dummyData","console","filtered","searchLower","toLowerCase","filter","doc","_doc$currentWorkflow","includes","handleFilterClick","event","currentTarget","handleFilterClose","handleFilterChange","handleSearchChange","target","value","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","handleSelectDoc","isSelected","some","d","handleDocActionClick","stopPropagation","handleDocActionClose","handleViewDocument","handleWorkflowClick","handleWorkflowClose","handleStartWorkflow","alert","updatedDocs","map","formatDate","date","locale","formatFileSize","bytes","toFixed","renderDocumentTypeIcon","children","sx","display","renderWorkflowStatus","variant","palette","text","secondary","statusInfo","noWrap","backgroundColor","fontWeight","isDocSelected","docId","paginatedDocs","slice","emptyRows","min","justifyContent","alignItems","height","p","severity","onClick","mt","textAlign","gutterBottom","mb","fontSize","mr","primary","main","container","spacing","item","xs","md","flexWrap","gap","paragraph","fullWidth","placeholder","onChange","InputProps","startAdornment","position","startIcon","anchorEl","open","Boolean","onClose","selected","width","overflow","maxHeight","stickyHeader","hover","cursor","e","style","colSpan","align","py","flexDirection","rowsPerPageOptions","component","count","onPageChange","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","_ref","from","to"],"sources":["/app/src/components/Workflows/InboxView.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  Chip,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  TextField,\n  InputAdornment,\n  IconButton,\n  CircularProgress,\n  Alert,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Tooltip,\n  Card,\n  CardContent,\n  Divider,\n  useTheme\n} from '@mui/material';\nimport {\n  Inbox as InboxIcon,\n  Search as SearchIcon,\n  FilterList as FilterIcon,\n  MoreVert as MoreIcon,\n  Description as DocumentIcon,\n  PlayArrow as StartIcon,\n  Visibility as ViewIcon,\n  ArrowForward as ArrowIcon,\n  Archive as ArchiveIcon,\n  People as PeopleIcon,\n  Notifications as NotificationIcon,\n  Receipt as InvoiceIcon,\n  Assignment as ContractIcon,\n  Assessment as ReportIcon,\n  FileCopy as FormIcon,\n  Folder as OtherIcon,\n  Delete as DeleteIcon\n} from '@mui/icons-material';\nimport { AuthContext } from '../../context/AuthContext';\nimport { format } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport api from '../../services/api';\n\n// Dokument-Typen mit Icons\nconst documentTypes = {\n  invoice: { icon: <InvoiceIcon />, label: 'Rechnung', color: '#ff9800' },\n  contract: { icon: <ContractIcon />, label: 'Vertrag', color: '#2196f3' },\n  report: { icon: <ReportIcon />, label: 'Bericht', color: '#4caf50' },\n  form: { icon: <FormIcon />, label: 'Formular', color: '#9c27b0' },\n  other: { icon: <OtherIcon />, label: 'Sonstiges', color: '#607d8b' }\n};\n\n// Workflow-Status mit Farben\nconst workflowStatus = {\n  not_started: { label: 'Nicht gestartet', color: '#9e9e9e' },\n  in_progress: { label: 'In Bearbeitung', color: '#2196f3' },\n  completed: { label: 'Abgeschlossen', color: '#4caf50' },\n  canceled: { label: 'Abgebrochen', color: '#f44336' }\n};\n\n// Dummy-Daten für Postkörbe generieren\nconst generateDummyInboxData = (inboxId) => {\n  // Postkorb-Informationen basierend auf ID\n  const inboxes = {\n    'inbox1': {\n      _id: 'inbox1',\n      name: 'Eingang',\n      description: 'Allgemeiner Posteingang für neue Dokumente',\n      type: 'department',\n      assignedUsers: [\n        { _id: 'user1', name: 'Max Mustermann' },\n        { _id: 'user2', name: 'Erika Musterfrau' }\n      ],\n      documentCount: 28\n    },\n    'inbox2': {\n      _id: 'inbox2',\n      name: 'Rechnungswesen',\n      description: 'Dokumente für die Buchhaltung und Finanzen',\n      type: 'department',\n      assignedUsers: [\n        { _id: 'user3', name: 'Thomas Test' },\n        { _id: 'user4', name: 'Sabine Schmidt' }\n      ],\n      documentCount: 15\n    },\n    'inbox3': {\n      _id: 'inbox3',\n      name: 'Vertrieb',\n      description: 'Dokumente für den Vertrieb und Aufträge',\n      type: 'department',\n      assignedUsers: [\n        { _id: 'user5', name: 'Peter Peters' },\n        { _id: 'user6', name: 'Laura Lang' }\n      ],\n      documentCount: 22\n    }\n  };\n  \n  // Wenn die ID nicht existiert, Standardpostkorb verwenden\n  const inbox = inboxes[inboxId] || inboxes['inbox1'];\n  \n  // Dokumente für den Postkorb generieren\n  const documents = [];\n  const types = Object.keys(documentTypes);\n  \n  for (let i = 1; i <= inbox.documentCount; i++) {\n    const docType = types[Math.floor(Math.random() * types.length)];\n    const hasWorkflow = Math.random() > 0.3;\n    const workflowType = hasWorkflow \n      ? ['not_started', 'in_progress', 'completed'][Math.floor(Math.random() * 3)]\n      : null;\n    \n    const createdDate = new Date();\n    createdDate.setDate(createdDate.getDate() - Math.floor(Math.random() * 30));\n    \n    documents.push({\n      _id: `doc${i}_${inboxId}`,\n      title: `${documentTypes[docType].label} ${i} (${inbox.name})`,\n      documentType: docType,\n      createdAt: createdDate,\n      uploadedBy: inbox.assignedUsers[Math.floor(Math.random() * inbox.assignedUsers.length)],\n      size: Math.floor(Math.random() * 10000000) + 100000, // Zufällige Dateigröße\n      currentWorkflow: hasWorkflow ? {\n        status: workflowType,\n        workflow: {\n          _id: `workflow${Math.floor(Math.random() * 5) + 1}`,\n          name: [\n            'Rechnungsfreigabe', \n            'Vertragsfreigabe', \n            'Berichterstellung', \n            'Dokumentprüfung',\n            'Genehmigungsprozess'\n          ][Math.floor(Math.random() * 5)]\n        }\n      } : null\n    });\n  }\n  \n  // Nach Datum sortieren (neueste zuerst)\n  return {\n    inbox,\n    documents: documents.sort((a, b) => b.createdAt - a.createdAt)\n  };\n};\n\n// Beispiel-Workflows\nconst availableWorkflows = [\n  { _id: 'workflow1', name: 'Rechnungsfreigabe' },\n  { _id: 'workflow2', name: 'Vertragsfreigabe' },\n  { _id: 'workflow3', name: 'Berichterstellung' },\n  { _id: 'workflow4', name: 'Dokumentprüfung' },\n  { _id: 'workflow5', name: 'Genehmigungsprozess' }\n];\n\nconst InboxView = () => {\n  const { id } = useParams();\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const { user } = useContext(AuthContext);\n  \n  // State für Postkorb und Dokumente\n  const [inbox, setInbox] = useState(null);\n  const [documents, setDocuments] = useState([]);\n  const [filteredDocuments, setFilteredDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Pagination-State\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  \n  // Such-/Filterstate\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterAnchorEl, setFilterAnchorEl] = useState(null);\n  const [activeFilter, setActiveFilter] = useState('all');\n  \n  // Auswahl und Aktionen\n  const [selectedDocs, setSelectedDocs] = useState([]);\n  const [docActionAnchorEl, setDocActionAnchorEl] = useState(null);\n  const [selectedDoc, setSelectedDoc] = useState(null);\n  \n  // Workflow-Dialog\n  const [workflowAnchorEl, setWorkflowAnchorEl] = useState(null);\n  \n  // Daten laden\n  useEffect(() => {\n    const fetchInboxData = async () => {\n      try {\n        // In einer realen App würden die Daten von der API geladen werden\n        // const response = await api.get(`/api/inboxes/${id}/documents`);\n        \n        // Für Demo-Zwecke verwenden wir Dummy-Daten\n        setTimeout(() => {\n          const dummyData = generateDummyInboxData(id);\n          setInbox(dummyData.inbox);\n          setDocuments(dummyData.documents);\n          setFilteredDocuments(dummyData.documents);\n          setLoading(false);\n        }, 1000);\n      } catch (error) {\n        console.error('Fehler beim Laden der Postkorb-Daten:', error);\n        setError('Fehler beim Laden der Postkorb-Daten. Bitte versuchen Sie es später erneut.');\n        setLoading(false);\n      }\n    };\n    \n    fetchInboxData();\n  }, [id]);\n  \n  // Dokumente filtern\n  useEffect(() => {\n    if (!documents.length) return;\n    \n    let filtered = [...documents];\n    \n    // Textsuche\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      filtered = filtered.filter(doc => \n        doc.title.toLowerCase().includes(searchLower) ||\n        (doc.currentWorkflow?.workflow.name && doc.currentWorkflow.workflow.name.toLowerCase().includes(searchLower)) ||\n        doc.uploadedBy.name.toLowerCase().includes(searchLower)\n      );\n    }\n    \n    // Status-Filter\n    if (activeFilter === 'no_workflow') {\n      filtered = filtered.filter(doc => !doc.currentWorkflow);\n    } else if (activeFilter === 'in_progress') {\n      filtered = filtered.filter(doc => \n        doc.currentWorkflow && \n        ['not_started', 'in_progress'].includes(doc.currentWorkflow.status)\n      );\n    } else if (activeFilter === 'completed') {\n      filtered = filtered.filter(doc => \n        doc.currentWorkflow && \n        doc.currentWorkflow.status === 'completed'\n      );\n    }\n    \n    setFilteredDocuments(filtered);\n    setPage(0); // Zurück zur ersten Seite bei Filteränderung\n  }, [documents, searchTerm, activeFilter]);\n  \n  // Filter-Handler\n  const handleFilterClick = (event) => {\n    setFilterAnchorEl(event.currentTarget);\n  };\n  \n  const handleFilterClose = () => {\n    setFilterAnchorEl(null);\n  };\n  \n  const handleFilterChange = (filter) => {\n    setActiveFilter(filter);\n    handleFilterClose();\n  };\n  \n  // Such-Handler\n  const handleSearchChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n  \n  // Pagination-Handler\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  \n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  \n  // Dokument-Auswahl\n  const handleSelectDoc = (doc) => {\n    const isSelected = selectedDocs.some(d => d._id === doc._id);\n    \n    if (isSelected) {\n      setSelectedDocs(selectedDocs.filter(d => d._id !== doc._id));\n    } else {\n      setSelectedDocs([...selectedDocs, doc]);\n    }\n  };\n  \n  // Dokument-Aktionen\n  const handleDocActionClick = (event, doc) => {\n    event.stopPropagation();\n    setDocActionAnchorEl(event.currentTarget);\n    setSelectedDoc(doc);\n  };\n  \n  const handleDocActionClose = () => {\n    setDocActionAnchorEl(null);\n    setSelectedDoc(null);\n  };\n  \n  const handleViewDocument = () => {\n    navigate(`/documents/${selectedDoc._id}`);\n    handleDocActionClose();\n  };\n  \n  // Workflow-Aktionen\n  const handleWorkflowClick = (event) => {\n    event.stopPropagation();\n    setWorkflowAnchorEl(event.currentTarget);\n  };\n  \n  const handleWorkflowClose = () => {\n    setWorkflowAnchorEl(null);\n  };\n  \n  const handleStartWorkflow = (workflow) => {\n    // In einer realen App würde hier ein API-Aufruf gemacht werden\n    // await api.post(`/api/workflows/${workflow._id}/start/${selectedDoc._id}`);\n    \n    // Für Demo-Zwecke aktualisieren wir den Status lokal\n    alert(`Workflow \"${workflow.name}\" für Dokument \"${selectedDoc.title}\" gestartet`);\n    \n    // Dokument aktualisieren\n    const updatedDocs = documents.map(doc => {\n      if (doc._id === selectedDoc._id) {\n        return {\n          ...doc,\n          currentWorkflow: {\n            status: 'not_started',\n            workflow: {\n              _id: workflow._id,\n              name: workflow.name\n            }\n          }\n        };\n      }\n      return doc;\n    });\n    \n    setDocuments(updatedDocs);\n    handleDocActionClose();\n    handleWorkflowClose();\n  };\n  \n  // Hilfsfunktionen\n  const formatDate = (date) => {\n    if (!date) return '';\n    try {\n      return format(new Date(date), 'dd.MM.yyyy', { locale: de });\n    } catch (error) {\n      return 'Ungültiges Datum';\n    }\n  };\n  \n  const formatFileSize = (bytes) => {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n  };\n  \n  // Dokument-Icon basierend auf Typ rendern\n  const renderDocumentTypeIcon = (type) => {\n    const docType = documentTypes[type] || documentTypes.other;\n    return (\n      <Tooltip title={docType.label}>\n        <Box sx={{ color: docType.color, display: 'flex' }}>\n          {docType.icon}\n        </Box>\n      </Tooltip>\n    );\n  };\n  \n  // Workflow-Status-Chip rendern\n  const renderWorkflowStatus = (doc) => {\n    if (!doc.currentWorkflow) {\n      return (\n        <Chip\n          label=\"Kein Workflow\"\n          size=\"small\"\n          variant=\"outlined\"\n          sx={{ color: theme.palette.text.secondary }}\n        />\n      );\n    }\n    \n    const status = doc.currentWorkflow.status;\n    const statusInfo = workflowStatus[status] || { label: status, color: '#757575' };\n    \n    return (\n      <Box>\n        <Typography variant=\"body2\" noWrap>\n          {doc.currentWorkflow.workflow.name}\n        </Typography>\n        <Chip\n          label={statusInfo.label}\n          size=\"small\"\n          sx={{\n            backgroundColor: `${statusInfo.color}20`,\n            color: statusInfo.color,\n            fontWeight: 'medium'\n          }}\n        />\n      </Box>\n    );\n  };\n  \n  // Prüfen, ob ein Dokument ausgewählt ist\n  const isDocSelected = (docId) => selectedDocs.some(doc => doc._id === docId);\n  \n  // Paginierte Dokumente\n  const paginatedDocs = filteredDocuments\n    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n  \n  // Leere Zeilen für Pagination\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, filteredDocuments.length - page * rowsPerPage);\n  \n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n  \n  if (error) {\n    return (\n      <Box sx={{ p: 3 }}>\n        <Alert severity=\"error\">{error}</Alert>\n        <Button\n          variant=\"outlined\"\n          onClick={() => navigate('/')}\n          sx={{ mt: 2 }}\n        >\n          Zurück zur Startseite\n        </Button>\n      </Box>\n    );\n  }\n  \n  if (!inbox) {\n    return (\n      <Box sx={{ p: 3, textAlign: 'center' }}>\n        <Typography variant=\"h5\" gutterBottom>\n          Postkorb nicht gefunden\n        </Typography>\n        <Button\n          variant=\"contained\"\n          onClick={() => navigate('/')}\n          sx={{ mt: 2 }}\n        >\n          Zurück zur Startseite\n        </Button>\n      </Box>\n    );\n  }\n  \n  return (\n    <Box sx={{ p: 3 }}>\n      {/* Header */}\n      <Box sx={{ mb: 3 }}>\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n          <InboxIcon sx={{ fontSize: 30, mr: 1, color: theme.palette.primary.main }} />\n          <Typography variant=\"h4\">{inbox.name}</Typography>\n        </Box>\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          {inbox.description}\n        </Typography>\n      </Box>\n      \n      {/* Infoboxen */}\n      <Grid container spacing={3} sx={{ mb: 3 }}>\n        <Grid item xs={12} md={4}>\n          <Card>\n            <CardContent>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                <DocumentIcon color=\"primary\" sx={{ mr: 1 }} />\n                <Typography variant=\"h6\">Dokumente</Typography>\n              </Box>\n              <Typography variant=\"h4\">{documents.length}</Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Dokumente in diesem Postkorb\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Card>\n            <CardContent>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                <PeopleIcon color=\"secondary\" sx={{ mr: 1 }} />\n                <Typography variant=\"h6\">Benutzer</Typography>\n              </Box>\n              <Typography variant=\"h4\">{inbox.assignedUsers.length}</Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Zugewiesene Benutzer\n              </Typography>\n              <Box sx={{ mt: 1, display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                {inbox.assignedUsers.map((user) => (\n                  <Chip\n                    key={user._id}\n                    label={user.name}\n                    size=\"small\"\n                  />\n                ))}\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Card>\n            <CardContent>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                <NotificationIcon color=\"warning\" sx={{ mr: 1 }} />\n                <Typography variant=\"h6\">Aktivität</Typography>\n              </Box>\n              {/* Simulierte Aktivitätsdaten */}\n              <Typography variant=\"body2\" paragraph>\n                <strong>Letzte Aktivität:</strong> {formatDate(new Date())}\n              </Typography>\n              <Typography variant=\"body2\">\n                <strong>Letzte Woche:</strong> {Math.floor(documents.length * 0.3)} neue Dokumente\n              </Typography>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n      \n      {/* Suchleiste und Filter */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Grid container spacing={2} alignItems=\"center\">\n          <Grid item xs={12} md={8}>\n            <TextField\n              fullWidth\n              placeholder=\"Dokumente durchsuchen...\"\n              value={searchTerm}\n              onChange={handleSearchChange}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon />\n                  </InputAdornment>\n                )\n              }}\n              size=\"small\"\n            />\n          </Grid>\n          <Grid item xs={12} md={4} sx={{ display: 'flex', justifyContent: 'flex-end' }}>\n            <Button\n              variant=\"outlined\"\n              startIcon={<FilterIcon />}\n              onClick={handleFilterClick}\n              sx={{ mr: 1 }}\n            >\n              {activeFilter === 'all' ? 'Alle Dokumente' :\n               activeFilter === 'no_workflow' ? 'Ohne Workflow' :\n               activeFilter === 'in_progress' ? 'In Bearbeitung' :\n               activeFilter === 'completed' ? 'Abgeschlossen' : 'Filter'}\n            </Button>\n            <Button\n              variant=\"contained\"\n              startIcon={<ArrowIcon />}\n              onClick={() => navigate('/documents/upload')}\n            >\n              Neues Dokument\n            </Button>\n            \n            <Menu\n              anchorEl={filterAnchorEl}\n              open={Boolean(filterAnchorEl)}\n              onClose={handleFilterClose}\n            >\n              <MenuItem \n                selected={activeFilter === 'all'}\n                onClick={() => handleFilterChange('all')}\n              >\n                <ListItemIcon>\n                  <DocumentIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText>Alle Dokumente</ListItemText>\n              </MenuItem>\n              <MenuItem \n                selected={activeFilter === 'no_workflow'}\n                onClick={() => handleFilterChange('no_workflow')}\n              >\n                <ListItemIcon>\n                  <ArchiveIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText>Ohne Workflow</ListItemText>\n              </MenuItem>\n              <Divider />\n              <MenuItem \n                selected={activeFilter === 'in_progress'}\n                onClick={() => handleFilterChange('in_progress')}\n              >\n                <ListItemIcon>\n                  <StartIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText>In Bearbeitung</ListItemText>\n              </MenuItem>\n              <MenuItem \n                selected={activeFilter === 'completed'}\n                onClick={() => handleFilterChange('completed')}\n              >\n                <ListItemIcon>\n                  <ArrowIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText>Abgeschlossen</ListItemText>\n              </MenuItem>\n            </Menu>\n          </Grid>\n        </Grid>\n      </Paper>\n      \n      {/* Dokumententabelle */}\n      <Paper sx={{ width: '100%', overflow: 'hidden' }}>\n        <TableContainer sx={{ maxHeight: 'calc(100vh - 430px)' }}>\n          <Table stickyHeader>\n            <TableHead>\n              <TableRow>\n                <TableCell width={40}></TableCell>\n                <TableCell>Titel</TableCell>\n                <TableCell>Erstellt am</TableCell>\n                <TableCell>Erstellt von</TableCell>\n                <TableCell>Workflow-Status</TableCell>\n                <TableCell width={80}>Aktionen</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {paginatedDocs.length > 0 ? (\n                <>\n                  {paginatedDocs.map((doc) => (\n                    <TableRow\n                      hover\n                      key={doc._id}\n                      selected={isDocSelected(doc._id)}\n                      onClick={() => handleSelectDoc(doc)}\n                      sx={{\n                        cursor: 'pointer',\n                        '&:hover': { backgroundColor: 'action.hover' }\n                      }}\n                    >\n                      <TableCell>\n                        {renderDocumentTypeIcon(doc.documentType)}\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\n                          {doc.title}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          {formatFileSize(doc.size)}\n                        </Typography>\n                      </TableCell>\n                      <TableCell>{formatDate(doc.createdAt)}</TableCell>\n                      <TableCell>{doc.uploadedBy.name}</TableCell>\n                      <TableCell>{renderWorkflowStatus(doc)}</TableCell>\n                      <TableCell>\n                        <Box sx={{ display: 'flex' }}>\n                          <Tooltip title=\"Dokument anzeigen\">\n                            <IconButton\n                              size=\"small\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                navigate(`/documents/${doc._id}`);\n                              }}\n                            >\n                              <ViewIcon />\n                            </IconButton>\n                          </Tooltip>\n                          <IconButton\n                            size=\"small\"\n                            onClick={(e) => handleDocActionClick(e, doc)}\n                          >\n                            <MoreIcon />\n                          </IconButton>\n                        </Box>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                  {emptyRows > 0 && (\n                    <TableRow style={{ height: 53 * emptyRows }}>\n                      <TableCell colSpan={6} />\n                    </TableRow>\n                  )}\n                </>\n              ) : (\n                <TableRow>\n                  <TableCell colSpan={6} align=\"center\" sx={{ py: 3 }}>\n                    <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                      <DocumentIcon sx={{ fontSize: 50, color: 'text.secondary', mb: 1 }} />\n                      <Typography variant=\"h6\" color=\"text.secondary\">\n                        Keine Dokumente gefunden\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Dieser Postkorb enthält keine Dokumente, die den Filterkriterien entsprechen.\n                      </Typography>\n                      {activeFilter !== 'all' && (\n                        <Button \n                          variant=\"outlined\"\n                          onClick={() => handleFilterChange('all')}\n                          sx={{ mt: 2 }}\n                        >\n                          Alle Dokumente anzeigen\n                        </Button>\n                      )}\n                    </Box>\n                  </TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        \n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={filteredDocuments.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n          labelRowsPerPage=\"Zeilen pro Seite:\"\n          labelDisplayedRows={({ from, to, count }) => \n            `${from}-${to} von ${count !== -1 ? count : `mehr als ${to}`}`\n          }\n        />\n      </Paper>\n      \n      {/* Dokument-Aktionsmenü */}\n      <Menu\n        anchorEl={docActionAnchorEl}\n        open={Boolean(docActionAnchorEl)}\n        onClose={handleDocActionClose}\n      >\n        <MenuItem onClick={handleViewDocument}>\n          <ListItemIcon>\n            <ViewIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>Dokument anzeigen</ListItemText>\n        </MenuItem>\n        \n        {selectedDoc && !selectedDoc.currentWorkflow && (\n          <MenuItem onClick={handleWorkflowClick}>\n            <ListItemIcon>\n              <StartIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText>Workflow starten</ListItemText>\n          </MenuItem>\n        )}\n        \n        <Divider />\n        \n        <MenuItem onClick={handleDocActionClose}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" color=\"error\" />\n          </ListItemIcon>\n          <ListItemText sx={{ color: 'error.main' }}>Aus Postkorb entfernen</ListItemText>\n        </MenuItem>\n      </Menu>\n      \n      {/* Workflow-Auswahlmenü */}\n      <Menu\n        anchorEl={workflowAnchorEl}\n        open={Boolean(workflowAnchorEl)}\n        onClose={handleWorkflowClose}\n      >\n        {availableWorkflows.map((workflow) => (\n          <MenuItem \n            key={workflow._id}\n            onClick={() => handleStartWorkflow(workflow)}\n          >\n            <ListItemIcon>\n              <StartIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText>{workflow.name}</ListItemText>\n          </MenuItem>\n        ))}\n      </Menu>\n    </Box>\n  );\n};\n\nexport default InboxView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}