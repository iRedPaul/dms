{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{useNavigate}from'react-router-dom';import{Box,Paper,Typography,Button,Tabs,Tab,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,TablePagination,Chip,IconButton,Avatar,Tooltip,Menu,MenuItem,ListItemIcon,ListItemText,CircularProgress,Alert,Dialog,DialogTitle,DialogContent,DialogActions,TextField,useTheme}from'@mui/material';import{Task as TaskIcon,Description as DocumentIcon,ThumbUp as ApproveIcon,ThumbDown as RejectIcon,Comment as CommentIcon,Visibility as ViewIcon,MoreVert as MoreIcon,AccessTime as TimeIcon,PriorityHigh as HighPriorityIcon,CheckCircle as CompletedIcon,Cancel as RejectedIcon,HourglassEmpty as PendingIcon,Receipt as InvoiceIcon,Assignment as ContractIcon,Assessment as ReportIcon,FileCopy as FormIcon,Folder as OtherIcon}from'@mui/icons-material';import{AuthContext}from'../../context/AuthContext';import{format,isAfter,isBefore,parseISO,addDays}from'date-fns';import{de}from'date-fns/locale';import api from'../../services/api';// Dokument-Typen mit Icons\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const documentTypes={invoice:{icon:/*#__PURE__*/_jsx(InvoiceIcon,{}),label:'Rechnung',color:'#ff9800'},contract:{icon:/*#__PURE__*/_jsx(ContractIcon,{}),label:'Vertrag',color:'#2196f3'},report:{icon:/*#__PURE__*/_jsx(ReportIcon,{}),label:'Bericht',color:'#4caf50'},form:{icon:/*#__PURE__*/_jsx(FormIcon,{}),label:'Formular',color:'#9c27b0'},other:{icon:/*#__PURE__*/_jsx(OtherIcon,{}),label:'Sonstiges',color:'#607d8b'}};// Aufgabenstatus-Definitionen\nconst taskStatus={pending:{label:'Ausstehend',color:'#757575'},in_progress:{label:'In Bearbeitung',color:'#2196f3'},completed:{label:'Abgeschlossen',color:'#4caf50'},rejected:{label:'Abgelehnt',color:'#f44336'},overdue:{label:'Überfällig',color:'#d32f2f'}};// Prioritäts-Definitionen\nconst priorities={low:{label:'Niedrig',color:'#757575'},medium:{label:'Mittel',color:'#ff9800'},high:{label:'Hoch',color:'#f44336'}};// Tab-Panels\nfunction TabPanel(props){const{children,value,index,...other}=props;return/*#__PURE__*/_jsx(\"div\",{role:\"tabpanel\",hidden:value!==index,id:`tasks-tabpanel-${index}`,\"aria-labelledby\":`tasks-tab-${index}`,...other,children:value===index&&/*#__PURE__*/_jsx(Box,{sx:{py:3},children:children})});}// Generieren von Dummy-Aufgaben\nconst generateDummyTasks=()=>{const tasks=[];const types=Object.keys(documentTypes);const taskTypes=['approve','review','sign','process'];const priorityLevels=['low','medium','high'];const statuses=['pending','in_progress','completed','rejected'];const now=new Date();for(let i=1;i<=30;i++){const docType=types[Math.floor(Math.random()*types.length)];const taskType=taskTypes[Math.floor(Math.random()*taskTypes.length)];const priority=priorityLevels[Math.floor(Math.random()*priorityLevels.length)];// Für die Demo: Die ersten 20 Aufgaben sind aktiv, der Rest ist abgeschlossen\nconst isActive=i<=20;const status=isActive?i%5===0?'in_progress':'pending':Math.random()>0.3?'completed':'rejected';// Zufälliges Zuweisungsdatum (1-30 Tage in der Vergangenheit)\nconst assignedDate=new Date();assignedDate.setDate(assignedDate.getDate()-Math.floor(Math.random()*30));// Zufälliges Fälligkeitsdatum\nconst dueDate=new Date(assignedDate);dueDate.setDate(dueDate.getDate()+Math.floor(Math.random()*14)+3);// Zufälliges Abschlussdatum für abgeschlossene Aufgaben\nlet completedDate=null;if(status==='completed'||status==='rejected'){completedDate=new Date(assignedDate);completedDate.setDate(completedDate.getDate()+Math.floor(Math.random()*5)+1);}const task={_id:`task${i}`,title:`${taskType.charAt(0).toUpperCase()+taskType.slice(1)} ${docType} ${i}`,description:`Diese Aufgabe erfordert, dass Sie das ${documentTypes[docType].label} überprüfen und ${taskType==='approve'?'genehmigen':taskType==='review'?'prüfen':taskType==='sign'?'unterschreiben':'verarbeiten'}.`,document:{_id:`doc${i}`,title:`${documentTypes[docType].label} ${i}`,documentType:docType},workflow:{_id:`workflow${i%5+1}`,name:['Rechnungsfreigabe','Vertragsfreigabe','Berichterstellung','Dokumentprüfung','Genehmigungsprozess'][i%5]},assignedTo:{_id:'currentUser',name:'Max Mustermann',username:'max'},assignedBy:{_id:'admin',name:'Admin User',username:'admin'},status,priority,assignedAt:assignedDate,dueDate,completedAt:completedDate,comments:[]};// Einige Kommentare für abgeschlossene Aufgaben hinzufügen\nif(status==='completed'||status==='rejected'){const commentCount=Math.floor(Math.random()*3);for(let j=0;j<commentCount;j++){const commentDate=new Date(assignedDate);commentDate.setDate(commentDate.getDate()+Math.floor(Math.random()*3)+1);task.comments.push({_id:`comment${i}_${j}`,text:`Das ist ein Beispielkommentar zur Aufgabe #${j+1}.`,createdBy:{_id:j%2===0?'currentUser':'admin',name:j%2===0?'Max Mustermann':'Admin User'},createdAt:commentDate});}// Abschlusskommentar hinzufügen\nif(status==='completed'){task.comments.push({_id:`comment${i}_final`,text:'Aufgabe abgeschlossen. Dokument wurde genehmigt.',createdBy:{_id:'currentUser',name:'Max Mustermann'},createdAt:completedDate});}else if(status==='rejected'){task.comments.push({_id:`comment${i}_final`,text:'Aufgabe abgelehnt. Dokument erfordert weitere Überarbeitung.',createdBy:{_id:'currentUser',name:'Max Mustermann'},createdAt:completedDate});}}tasks.push(task);}return tasks;};const WorkflowTasks=()=>{const theme=useTheme();const navigate=useNavigate();const{user}=useContext(AuthContext);// Tab-State\nconst[tabValue,setTabValue]=useState(0);// Tasks-State\nconst[tasks,setTasks]=useState([]);const[filteredTasks,setFilteredTasks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Pagination-State\nconst[page,setPage]=useState(0);const[rowsPerPage,setRowsPerPage]=useState(10);// Aktions-States\nconst[actionAnchorEl,setActionAnchorEl]=useState(null);const[selectedTask,setSelectedTask]=useState(null);// Dialog-States\nconst[approveDialogOpen,setApproveDialogOpen]=useState(false);const[rejectDialogOpen,setRejectDialogOpen]=useState(false);const[commentText,setCommentText]=useState('');// Aufgaben laden\nuseEffect(()=>{const fetchTasks=async()=>{try{// In einer realen App würden die Aufgaben von der API geladen werden\n// const response = await api.get('/api/tasks');\n// Für Demo-Zwecke verwenden wir Dummy-Daten\nsetTimeout(()=>{const dummyTasks=generateDummyTasks();// Überfällige Aufgaben markieren\nconst tasksWithOverdueStatus=dummyTasks.map(task=>{if(task.status==='pending'||task.status==='in_progress'){const now=new Date();if(task.dueDate&&isBefore(new Date(task.dueDate),now)){return{...task,status:'overdue'};}}return task;});setTasks(tasksWithOverdueStatus);setFilteredTasks(tasksWithOverdueStatus);setLoading(false);},1000);}catch(error){console.error('Fehler beim Laden der Aufgaben:',error);setError('Fehler beim Laden der Aufgaben. Bitte versuchen Sie es später erneut.');setLoading(false);}};fetchTasks();},[]);// Nach Tab-Wechsel filtern\nuseEffect(()=>{if(!tasks.length)return;if(tabValue===0){// Aktive Aufgaben (pending, in_progress, overdue)\nsetFilteredTasks(tasks.filter(task=>['pending','in_progress','overdue'].includes(task.status)));}else if(tabValue===1){// Abgeschlossene Aufgaben (completed, rejected)\nsetFilteredTasks(tasks.filter(task=>['completed','rejected'].includes(task.status)));}setPage(0);// Zurück zur ersten Seite bei Tab-Wechsel\n},[tabValue,tasks]);// Tab-Handler\nconst handleTabChange=(event,newValue)=>{setTabValue(newValue);};// Pagination-Handler\nconst handleChangePage=(event,newValue)=>{setPage(newValue);};const handleChangeRowsPerPage=event=>{setRowsPerPage(parseInt(event.target.value,10));setPage(0);};// Aktions-Handler\nconst handleActionClick=(event,task)=>{setActionAnchorEl(event.currentTarget);setSelectedTask(task);};const handleActionClose=()=>{setActionAnchorEl(null);setSelectedTask(null);};const handleViewDocument=()=>{navigate(`/documents/${selectedTask.document._id}`);handleActionClose();};const handleOpenApproveDialog=()=>{setApproveDialogOpen(true);handleActionClose();};const handleCloseApproveDialog=()=>{setApproveDialogOpen(false);setCommentText('');};const handleOpenRejectDialog=()=>{setRejectDialogOpen(true);handleActionClose();};const handleCloseRejectDialog=()=>{setRejectDialogOpen(false);setCommentText('');};const handleCommentChange=event=>{setCommentText(event.target.value);};const handleApproveTask=()=>{// In einer realen App würde hier ein API-Aufruf gemacht werden\n// await api.put(`/api/tasks/${selectedTask._id}/approve`, { comment: commentText });\n// Für Demo-Zwecke aktualisieren wir den Status lokal\nconst now=new Date();// Aktualisierte Aufgabe\nconst updatedTask={...selectedTask,status:'completed',completedAt:now,comments:[...selectedTask.comments,{_id:`comment_approve_${Date.now()}`,text:commentText||'Aufgabe genehmigt.',createdBy:{_id:'currentUser',name:'Max Mustermann'},createdAt:now}]};// Tasks aktualisieren\nsetTasks(tasks.map(task=>task._id===selectedTask._id?updatedTask:task));// Dialog schließen\nhandleCloseApproveDialog();// Erfolgsmeldung\nalert('Aufgabe erfolgreich genehmigt!');};const handleRejectTask=()=>{// In einer realen App würde hier ein API-Aufruf gemacht werden\n// await api.put(`/api/tasks/${selectedTask._id}/reject`, { comment: commentText });\n// Für Demo-Zwecke aktualisieren wir den Status lokal\nconst now=new Date();// Aktualisierte Aufgabe\nconst updatedTask={...selectedTask,status:'rejected',completedAt:now,comments:[...selectedTask.comments,{_id:`comment_reject_${Date.now()}`,text:commentText||'Aufgabe abgelehnt.',createdBy:{_id:'currentUser',name:'Max Mustermann'},createdAt:now}]};// Tasks aktualisieren\nsetTasks(tasks.map(task=>task._id===selectedTask._id?updatedTask:task));// Dialog schließen\nhandleCloseRejectDialog();// Erfolgsmeldung\nalert('Aufgabe abgelehnt!');};// Hilfsfunktionen\nconst formatDate=date=>{if(!date)return'-';try{return format(new Date(date),'dd.MM.yyyy',{locale:de});}catch(error){return'Ungültiges Datum';}};// Status-Chip rendern\nconst renderStatusChip=status=>{const taskStatusInfo=taskStatus[status]||{label:status,color:'#757575'};return/*#__PURE__*/_jsx(Chip,{label:taskStatusInfo.label,size:\"small\",sx:{backgroundColor:`${taskStatusInfo.color}20`,color:taskStatusInfo.color,borderColor:taskStatusInfo.color,fontWeight:'medium'},variant:\"outlined\"});};// Prioritäts-Chip rendern\nconst renderPriorityChip=priority=>{const priorityInfo=priorities[priority]||{label:priority,color:'#757575'};const icon=priority==='high'?/*#__PURE__*/_jsx(HighPriorityIcon,{fontSize:\"small\"}):null;return/*#__PURE__*/_jsx(Chip,{icon:icon,label:priorityInfo.label,size:\"small\",sx:{backgroundColor:`${priorityInfo.color}20`,color:priorityInfo.color,fontWeight:'medium'}});};// Dokument-Icon basierend auf Typ rendern\nconst renderDocumentTypeIcon=type=>{const docType=documentTypes[type]||documentTypes.other;return/*#__PURE__*/_jsx(Tooltip,{title:docType.label,children:/*#__PURE__*/_jsx(Box,{sx:{color:docType.color,display:'flex'},children:docType.icon})});};// Status-Icon basierend auf Status rendern\nconst renderStatusIcon=status=>{switch(status){case'completed':return/*#__PURE__*/_jsx(CompletedIcon,{sx:{color:taskStatus.completed.color}});case'rejected':return/*#__PURE__*/_jsx(RejectedIcon,{sx:{color:taskStatus.rejected.color}});case'in_progress':return/*#__PURE__*/_jsx(TaskIcon,{sx:{color:taskStatus.in_progress.color}});case'overdue':return/*#__PURE__*/_jsx(TimeIcon,{sx:{color:taskStatus.overdue.color}});default:return/*#__PURE__*/_jsx(PendingIcon,{sx:{color:taskStatus.pending.color}});}};// Fälligkeitsanzeige rendern\nconst renderDueDate=task=>{if(!task.dueDate)return'-';const now=new Date();const dueDate=new Date(task.dueDate);// Für abgeschlossene Aufgaben\nif(task.status==='completed'||task.status==='rejected'){return formatDate(task.dueDate);}// Überfällig\nif(isBefore(dueDate,now)){return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',color:'error.main'},children:[/*#__PURE__*/_jsx(TimeIcon,{fontSize:\"small\",sx:{mr:0.5}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"error\",children:[\"\\xDCberf\\xE4llig seit \",formatDate(task.dueDate)]})]});}// Bald fällig (in den nächsten 2 Tagen)\nif(isBefore(dueDate,addDays(now,2))){return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',color:'warning.main'},children:[/*#__PURE__*/_jsx(TimeIcon,{fontSize:\"small\",sx:{mr:0.5}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"warning.main\",children:[\"F\\xE4llig am \",formatDate(task.dueDate)]})]});}// Normal\nreturn formatDate(task.dueDate);};// Paginierte Aufgaben\nconst paginatedTasks=filteredTasks.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage);// Leere Zeilen für Pagination\nconst emptyRows=rowsPerPage-Math.min(rowsPerPage,filteredTasks.length-page*rowsPerPage);return/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsx(Box,{sx:{mb:3,display:'flex',justifyContent:'space-between',alignItems:'center'},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(TaskIcon,{sx:{fontSize:30,mr:1,color:theme.palette.info.main}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Meine Aufgaben\"})]})}),/*#__PURE__*/_jsxs(Paper,{sx:{width:'100%'},children:[/*#__PURE__*/_jsxs(Tabs,{value:tabValue,onChange:handleTabChange,indicatorColor:\"primary\",textColor:\"primary\",children:[/*#__PURE__*/_jsx(Tab,{label:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(TaskIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(\"span\",{children:\"Aktive Aufgaben\"}),filteredTasks.length>0&&tabValue===0&&/*#__PURE__*/_jsx(Chip,{label:filteredTasks.length,size:\"small\",sx:{ml:1,minWidth:30}})]})}),/*#__PURE__*/_jsx(Tab,{label:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(CheckCircle,{sx:{mr:1}}),/*#__PURE__*/_jsx(\"span\",{children:\"Abgeschlossene Aufgaben\"})]})})]}),/*#__PURE__*/_jsxs(TabPanel,{value:tabValue,index:0,children:[loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',p:4},children:/*#__PURE__*/_jsx(CircularProgress,{})}):error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{m:2},children:error}):/*#__PURE__*/_jsx(TableContainer,{sx:{maxHeight:'calc(100vh - 250px)'},children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{width:40}),/*#__PURE__*/_jsx(TableCell,{children:\"Aufgabe\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Dokument\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Workflow\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Priorit\\xE4t\"}),/*#__PURE__*/_jsx(TableCell,{children:\"F\\xE4lligkeit\"}),/*#__PURE__*/_jsx(TableCell,{width:100,children:\"Aktionen\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:paginatedTasks.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[paginatedTasks.map(task=>/*#__PURE__*/_jsxs(TableRow,{hover:true,sx:{cursor:'pointer','&:hover':{backgroundColor:'action.hover'}},children:[/*#__PURE__*/_jsx(TableCell,{children:renderStatusIcon(task.status)}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:'medium'},children:task.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[\"Zugewiesen am \",formatDate(task.assignedAt)]})]}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[renderDocumentTypeIcon(task.document.documentType),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{ml:1},children:task.document.title})]})}),/*#__PURE__*/_jsx(TableCell,{children:task.workflow.name}),/*#__PURE__*/_jsx(TableCell,{children:renderStatusChip(task.status)}),/*#__PURE__*/_jsx(TableCell,{children:renderPriorityChip(task.priority)}),/*#__PURE__*/_jsx(TableCell,{children:renderDueDate(task)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Dokument anzeigen\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>navigate(`/documents/${task.document._id}`),children:/*#__PURE__*/_jsx(ViewIcon,{})})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>handleActionClick(e,task),children:/*#__PURE__*/_jsx(MoreIcon,{})})]})})]},task._id)),emptyRows>0&&/*#__PURE__*/_jsx(TableRow,{style:{height:53*emptyRows},children:/*#__PURE__*/_jsx(TableCell,{colSpan:8})})]}):/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,align:\"center\",sx:{py:3},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(TaskIcon,{sx:{fontSize:50,color:'text.secondary',mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"Keine aktiven Aufgaben\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Alle Ihre Aufgaben wurden erledigt!\"})]})})})})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:filteredTasks.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage,labelRowsPerPage:\"Zeilen pro Seite:\",labelDisplayedRows:_ref=>{let{from,to,count}=_ref;return`${from}-${to} von ${count!==-1?count:`mehr als ${to}`}`;}})]}),/*#__PURE__*/_jsxs(TabPanel,{value:tabValue,index:1,children:[loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',p:4},children:/*#__PURE__*/_jsx(CircularProgress,{})}):error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{m:2},children:error}):/*#__PURE__*/_jsx(TableContainer,{sx:{maxHeight:'calc(100vh - 250px)'},children:/*#__PURE__*/_jsxs(Table,{stickyHeader:true,children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{width:40}),/*#__PURE__*/_jsx(TableCell,{children:\"Aufgabe\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Dokument\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Workflow\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Erledigt am\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Kommentare\"}),/*#__PURE__*/_jsx(TableCell,{width:70,children:\"Aktionen\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:paginatedTasks.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[paginatedTasks.map(task=>/*#__PURE__*/_jsxs(TableRow,{hover:true,sx:{cursor:'pointer','&:hover':{backgroundColor:'action.hover'}},children:[/*#__PURE__*/_jsx(TableCell,{children:renderStatusIcon(task.status)}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:'medium'},children:task.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[\"Zugewiesen am \",formatDate(task.assignedAt)]})]}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[renderDocumentTypeIcon(task.document.documentType),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{ml:1},children:task.document.title})]})}),/*#__PURE__*/_jsx(TableCell,{children:task.workflow.name}),/*#__PURE__*/_jsx(TableCell,{children:renderStatusChip(task.status)}),/*#__PURE__*/_jsx(TableCell,{children:formatDate(task.completedAt)}),/*#__PURE__*/_jsx(TableCell,{children:task.comments.length>0?/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(CommentIcon,{}),label:`${task.comments.length} Kommentar${task.comments.length!==1?'e':''}`,size:\"small\"}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Keine Kommentare\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:e=>handleActionClick(e,task),children:/*#__PURE__*/_jsx(MoreIcon,{})})})]},task._id)),emptyRows>0&&/*#__PURE__*/_jsx(TableRow,{style:{height:53*emptyRows},children:/*#__PURE__*/_jsx(TableCell,{colSpan:8})})]}):/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,align:\"center\",sx:{py:3},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(CheckCircle,{sx:{fontSize:50,color:'text.secondary',mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"Keine abgeschlossenen Aufgaben\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Alle Ihre Aufgaben sind noch in Bearbeitung.\"})]})})})})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25],component:\"div\",count:filteredTasks.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage,labelRowsPerPage:\"Zeilen pro Seite:\",labelDisplayedRows:_ref2=>{let{from,to,count}=_ref2;return`${from}-${to} von ${count!==-1?count:`mehr als ${to}`}`;}})]})]}),/*#__PURE__*/_jsxs(Menu,{anchorEl:actionAnchorEl,open:Boolean(actionAnchorEl),onClose:handleActionClose,children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:handleViewDocument,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ViewIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Dokument anzeigen\"})]}),selectedTask&&['pending','in_progress','overdue'].includes(selectedTask.status)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:handleOpenApproveDialog,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ApproveIcon,{fontSize:\"small\",color:\"success\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Genehmigen\"})]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleOpenRejectDialog,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(RejectIcon,{fontSize:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(ListItemText,{children:\"Ablehnen\"})]})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:approveDialogOpen,onClose:handleCloseApproveDialog,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Aufgabe genehmigen\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Typography,{paragraph:true,children:\"M\\xF6chten Sie die folgende Aufgabe genehmigen?\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:selectedTask===null||selectedTask===void 0?void 0:selectedTask.title}),/*#__PURE__*/_jsxs(Typography,{paragraph:true,children:[\"Dokument: \",selectedTask===null||selectedTask===void 0?void 0:selectedTask.document.title]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Kommentar (optional)\",multiline:true,rows:3,value:commentText,onChange:handleCommentChange,margin:\"normal\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseApproveDialog,children:\"Abbrechen\"}),/*#__PURE__*/_jsx(Button,{onClick:handleApproveTask,color:\"primary\",variant:\"contained\",children:\"Genehmigen\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:rejectDialogOpen,onClose:handleCloseRejectDialog,maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Aufgabe ablehnen\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Typography,{paragraph:true,children:\"M\\xF6chten Sie die folgende Aufgabe ablehnen?\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:selectedTask===null||selectedTask===void 0?void 0:selectedTask.title}),/*#__PURE__*/_jsxs(Typography,{paragraph:true,children:[\"Dokument: \",selectedTask===null||selectedTask===void 0?void 0:selectedTask.document.title]}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Ablehnungsgrund (empfohlen)\",multiline:true,rows:3,value:commentText,onChange:handleCommentChange,margin:\"normal\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseRejectDialog,children:\"Abbrechen\"}),/*#__PURE__*/_jsx(Button,{onClick:handleRejectTask,color:\"error\",variant:\"contained\",children:\"Ablehnen\"})]})]})]});};export default WorkflowTasks;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","Box","Paper","Typography","Button","Tabs","Tab","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Chip","IconButton","Avatar","Tooltip","Menu","MenuItem","ListItemIcon","ListItemText","CircularProgress","Alert","Dialog","DialogTitle","DialogContent","DialogActions","TextField","useTheme","Task","TaskIcon","Description","DocumentIcon","ThumbUp","ApproveIcon","ThumbDown","RejectIcon","Comment","CommentIcon","Visibility","ViewIcon","MoreVert","MoreIcon","AccessTime","TimeIcon","PriorityHigh","HighPriorityIcon","CheckCircle","CompletedIcon","Cancel","RejectedIcon","HourglassEmpty","PendingIcon","Receipt","InvoiceIcon","Assignment","ContractIcon","Assessment","ReportIcon","FileCopy","FormIcon","Folder","OtherIcon","AuthContext","format","isAfter","isBefore","parseISO","addDays","de","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","documentTypes","invoice","icon","label","color","contract","report","form","other","taskStatus","pending","in_progress","completed","rejected","overdue","priorities","low","medium","high","TabPanel","props","children","value","index","role","hidden","id","sx","py","generateDummyTasks","tasks","types","Object","keys","taskTypes","priorityLevels","statuses","now","Date","i","docType","Math","floor","random","length","taskType","priority","isActive","status","assignedDate","setDate","getDate","dueDate","completedDate","task","_id","title","charAt","toUpperCase","slice","description","document","documentType","workflow","name","assignedTo","username","assignedBy","assignedAt","completedAt","comments","commentCount","j","commentDate","push","text","createdBy","createdAt","WorkflowTasks","theme","navigate","user","tabValue","setTabValue","setTasks","filteredTasks","setFilteredTasks","loading","setLoading","error","setError","page","setPage","rowsPerPage","setRowsPerPage","actionAnchorEl","setActionAnchorEl","selectedTask","setSelectedTask","approveDialogOpen","setApproveDialogOpen","rejectDialogOpen","setRejectDialogOpen","commentText","setCommentText","fetchTasks","setTimeout","dummyTasks","tasksWithOverdueStatus","map","console","filter","includes","handleTabChange","event","newValue","handleChangePage","handleChangeRowsPerPage","parseInt","target","handleActionClick","currentTarget","handleActionClose","handleViewDocument","handleOpenApproveDialog","handleCloseApproveDialog","handleOpenRejectDialog","handleCloseRejectDialog","handleCommentChange","handleApproveTask","updatedTask","alert","handleRejectTask","formatDate","date","locale","renderStatusChip","taskStatusInfo","size","backgroundColor","borderColor","fontWeight","variant","renderPriorityChip","priorityInfo","fontSize","renderDocumentTypeIcon","type","display","renderStatusIcon","renderDueDate","alignItems","mr","paginatedTasks","emptyRows","min","p","mb","justifyContent","palette","info","main","width","onChange","indicatorColor","textColor","ml","minWidth","severity","m","maxHeight","stickyHeader","hover","cursor","onClick","e","style","height","colSpan","align","flexDirection","rowsPerPageOptions","component","count","onPageChange","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","_ref","from","to","_ref2","anchorEl","open","Boolean","onClose","maxWidth","fullWidth","paragraph","gutterBottom","multiline","rows","margin"],"sources":["/app/src/components/Workflows/WorkflowTasks.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Tabs,\n  Tab,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TablePagination,\n  Chip,\n  IconButton,\n  Avatar,\n  Tooltip,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  CircularProgress,\n  Alert,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  useTheme\n} from '@mui/material';\nimport {\n  Task as TaskIcon,\n  Description as DocumentIcon,\n  ThumbUp as ApproveIcon,\n  ThumbDown as RejectIcon,\n  Comment as CommentIcon,\n  Visibility as ViewIcon,\n  MoreVert as MoreIcon,\n  AccessTime as TimeIcon,\n  PriorityHigh as HighPriorityIcon,\n  CheckCircle as CompletedIcon,\n  Cancel as RejectedIcon,\n  HourglassEmpty as PendingIcon,\n  Receipt as InvoiceIcon,\n  Assignment as ContractIcon,\n  Assessment as ReportIcon,\n  FileCopy as FormIcon,\n  Folder as OtherIcon\n} from '@mui/icons-material';\nimport { AuthContext } from '../../context/AuthContext';\nimport { format, isAfter, isBefore, parseISO, addDays } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport api from '../../services/api';\n\n// Dokument-Typen mit Icons\nconst documentTypes = {\n  invoice: { icon: <InvoiceIcon />, label: 'Rechnung', color: '#ff9800' },\n  contract: { icon: <ContractIcon />, label: 'Vertrag', color: '#2196f3' },\n  report: { icon: <ReportIcon />, label: 'Bericht', color: '#4caf50' },\n  form: { icon: <FormIcon />, label: 'Formular', color: '#9c27b0' },\n  other: { icon: <OtherIcon />, label: 'Sonstiges', color: '#607d8b' }\n};\n\n// Aufgabenstatus-Definitionen\nconst taskStatus = {\n  pending: { label: 'Ausstehend', color: '#757575' },\n  in_progress: { label: 'In Bearbeitung', color: '#2196f3' },\n  completed: { label: 'Abgeschlossen', color: '#4caf50' },\n  rejected: { label: 'Abgelehnt', color: '#f44336' },\n  overdue: { label: 'Überfällig', color: '#d32f2f' }\n};\n\n// Prioritäts-Definitionen\nconst priorities = {\n  low: { label: 'Niedrig', color: '#757575' },\n  medium: { label: 'Mittel', color: '#ff9800' },\n  high: { label: 'Hoch', color: '#f44336' }\n};\n\n// Tab-Panels\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tasks-tabpanel-${index}`}\n      aria-labelledby={`tasks-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box sx={{ py: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\n// Generieren von Dummy-Aufgaben\nconst generateDummyTasks = () => {\n  const tasks = [];\n  const types = Object.keys(documentTypes);\n  const taskTypes = ['approve', 'review', 'sign', 'process'];\n  const priorityLevels = ['low', 'medium', 'high'];\n  const statuses = ['pending', 'in_progress', 'completed', 'rejected'];\n  \n  const now = new Date();\n  \n  for (let i = 1; i <= 30; i++) {\n    const docType = types[Math.floor(Math.random() * types.length)];\n    const taskType = taskTypes[Math.floor(Math.random() * taskTypes.length)];\n    const priority = priorityLevels[Math.floor(Math.random() * priorityLevels.length)];\n    \n    // Für die Demo: Die ersten 20 Aufgaben sind aktiv, der Rest ist abgeschlossen\n    const isActive = i <= 20;\n    const status = isActive \n      ? (i % 5 === 0 ? 'in_progress' : 'pending')\n      : (Math.random() > 0.3 ? 'completed' : 'rejected');\n    \n    // Zufälliges Zuweisungsdatum (1-30 Tage in der Vergangenheit)\n    const assignedDate = new Date();\n    assignedDate.setDate(assignedDate.getDate() - Math.floor(Math.random() * 30));\n    \n    // Zufälliges Fälligkeitsdatum\n    const dueDate = new Date(assignedDate);\n    dueDate.setDate(dueDate.getDate() + Math.floor(Math.random() * 14) + 3);\n    \n    // Zufälliges Abschlussdatum für abgeschlossene Aufgaben\n    let completedDate = null;\n    if (status === 'completed' || status === 'rejected') {\n      completedDate = new Date(assignedDate);\n      completedDate.setDate(completedDate.getDate() + Math.floor(Math.random() * 5) + 1);\n    }\n    \n    const task = {\n      _id: `task${i}`,\n      title: `${taskType.charAt(0).toUpperCase() + taskType.slice(1)} ${docType} ${i}`,\n      description: `Diese Aufgabe erfordert, dass Sie das ${documentTypes[docType].label} überprüfen und ${\n        taskType === 'approve' ? 'genehmigen' : \n        taskType === 'review' ? 'prüfen' : \n        taskType === 'sign' ? 'unterschreiben' : \n        'verarbeiten'\n      }.`,\n      document: {\n        _id: `doc${i}`,\n        title: `${documentTypes[docType].label} ${i}`,\n        documentType: docType\n      },\n      workflow: {\n        _id: `workflow${i % 5 + 1}`,\n        name: [\n          'Rechnungsfreigabe', \n          'Vertragsfreigabe', \n          'Berichterstellung', \n          'Dokumentprüfung',\n          'Genehmigungsprozess'\n        ][i % 5]\n      },\n      assignedTo: {\n        _id: 'currentUser',\n        name: 'Max Mustermann',\n        username: 'max'\n      },\n      assignedBy: {\n        _id: 'admin',\n        name: 'Admin User',\n        username: 'admin'\n      },\n      status,\n      priority,\n      assignedAt: assignedDate,\n      dueDate,\n      completedAt: completedDate,\n      comments: []\n    };\n    \n    // Einige Kommentare für abgeschlossene Aufgaben hinzufügen\n    if (status === 'completed' || status === 'rejected') {\n      const commentCount = Math.floor(Math.random() * 3);\n      for (let j = 0; j < commentCount; j++) {\n        const commentDate = new Date(assignedDate);\n        commentDate.setDate(commentDate.getDate() + Math.floor(Math.random() * 3) + 1);\n        \n        task.comments.push({\n          _id: `comment${i}_${j}`,\n          text: `Das ist ein Beispielkommentar zur Aufgabe #${j+1}.`,\n          createdBy: {\n            _id: j % 2 === 0 ? 'currentUser' : 'admin',\n            name: j % 2 === 0 ? 'Max Mustermann' : 'Admin User'\n          },\n          createdAt: commentDate\n        });\n      }\n      \n      // Abschlusskommentar hinzufügen\n      if (status === 'completed') {\n        task.comments.push({\n          _id: `comment${i}_final`,\n          text: 'Aufgabe abgeschlossen. Dokument wurde genehmigt.',\n          createdBy: {\n            _id: 'currentUser',\n            name: 'Max Mustermann'\n          },\n          createdAt: completedDate\n        });\n      } else if (status === 'rejected') {\n        task.comments.push({\n          _id: `comment${i}_final`,\n          text: 'Aufgabe abgelehnt. Dokument erfordert weitere Überarbeitung.',\n          createdBy: {\n            _id: 'currentUser',\n            name: 'Max Mustermann'\n          },\n          createdAt: completedDate\n        });\n      }\n    }\n    \n    tasks.push(task);\n  }\n  \n  return tasks;\n};\n\nconst WorkflowTasks = () => {\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const { user } = useContext(AuthContext);\n  \n  // Tab-State\n  const [tabValue, setTabValue] = useState(0);\n  \n  // Tasks-State\n  const [tasks, setTasks] = useState([]);\n  const [filteredTasks, setFilteredTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Pagination-State\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  \n  // Aktions-States\n  const [actionAnchorEl, setActionAnchorEl] = useState(null);\n  const [selectedTask, setSelectedTask] = useState(null);\n  \n  // Dialog-States\n  const [approveDialogOpen, setApproveDialogOpen] = useState(false);\n  const [rejectDialogOpen, setRejectDialogOpen] = useState(false);\n  const [commentText, setCommentText] = useState('');\n  \n  // Aufgaben laden\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        // In einer realen App würden die Aufgaben von der API geladen werden\n        // const response = await api.get('/api/tasks');\n        \n        // Für Demo-Zwecke verwenden wir Dummy-Daten\n        setTimeout(() => {\n          const dummyTasks = generateDummyTasks();\n          \n          // Überfällige Aufgaben markieren\n          const tasksWithOverdueStatus = dummyTasks.map(task => {\n            if (task.status === 'pending' || task.status === 'in_progress') {\n              const now = new Date();\n              if (task.dueDate && isBefore(new Date(task.dueDate), now)) {\n                return { ...task, status: 'overdue' };\n              }\n            }\n            return task;\n          });\n          \n          setTasks(tasksWithOverdueStatus);\n          setFilteredTasks(tasksWithOverdueStatus);\n          setLoading(false);\n        }, 1000);\n      } catch (error) {\n        console.error('Fehler beim Laden der Aufgaben:', error);\n        setError('Fehler beim Laden der Aufgaben. Bitte versuchen Sie es später erneut.');\n        setLoading(false);\n      }\n    };\n    \n    fetchTasks();\n  }, []);\n  \n  // Nach Tab-Wechsel filtern\n  useEffect(() => {\n    if (!tasks.length) return;\n    \n    if (tabValue === 0) {\n      // Aktive Aufgaben (pending, in_progress, overdue)\n      setFilteredTasks(\n        tasks.filter(task => \n          ['pending', 'in_progress', 'overdue'].includes(task.status)\n        )\n      );\n    } else if (tabValue === 1) {\n      // Abgeschlossene Aufgaben (completed, rejected)\n      setFilteredTasks(\n        tasks.filter(task => \n          ['completed', 'rejected'].includes(task.status)\n        )\n      );\n    }\n    \n    setPage(0); // Zurück zur ersten Seite bei Tab-Wechsel\n  }, [tabValue, tasks]);\n  \n  // Tab-Handler\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  \n  // Pagination-Handler\n  const handleChangePage = (event, newValue) => {\n    setPage(newValue);\n  };\n  \n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n  \n  // Aktions-Handler\n  const handleActionClick = (event, task) => {\n    setActionAnchorEl(event.currentTarget);\n    setSelectedTask(task);\n  };\n  \n  const handleActionClose = () => {\n    setActionAnchorEl(null);\n    setSelectedTask(null);\n  };\n  \n  const handleViewDocument = () => {\n    navigate(`/documents/${selectedTask.document._id}`);\n    handleActionClose();\n  };\n  \n  const handleOpenApproveDialog = () => {\n    setApproveDialogOpen(true);\n    handleActionClose();\n  };\n  \n  const handleCloseApproveDialog = () => {\n    setApproveDialogOpen(false);\n    setCommentText('');\n  };\n  \n  const handleOpenRejectDialog = () => {\n    setRejectDialogOpen(true);\n    handleActionClose();\n  };\n  \n  const handleCloseRejectDialog = () => {\n    setRejectDialogOpen(false);\n    setCommentText('');\n  };\n  \n  const handleCommentChange = (event) => {\n    setCommentText(event.target.value);\n  };\n  \n  const handleApproveTask = () => {\n    // In einer realen App würde hier ein API-Aufruf gemacht werden\n    // await api.put(`/api/tasks/${selectedTask._id}/approve`, { comment: commentText });\n    \n    // Für Demo-Zwecke aktualisieren wir den Status lokal\n    const now = new Date();\n    \n    // Aktualisierte Aufgabe\n    const updatedTask = {\n      ...selectedTask,\n      status: 'completed',\n      completedAt: now,\n      comments: [\n        ...selectedTask.comments,\n        {\n          _id: `comment_approve_${Date.now()}`,\n          text: commentText || 'Aufgabe genehmigt.',\n          createdBy: {\n            _id: 'currentUser',\n            name: 'Max Mustermann'\n          },\n          createdAt: now\n        }\n      ]\n    };\n    \n    // Tasks aktualisieren\n    setTasks(tasks.map(task => \n      task._id === selectedTask._id ? updatedTask : task\n    ));\n    \n    // Dialog schließen\n    handleCloseApproveDialog();\n    \n    // Erfolgsmeldung\n    alert('Aufgabe erfolgreich genehmigt!');\n  };\n  \n  const handleRejectTask = () => {\n    // In einer realen App würde hier ein API-Aufruf gemacht werden\n    // await api.put(`/api/tasks/${selectedTask._id}/reject`, { comment: commentText });\n    \n    // Für Demo-Zwecke aktualisieren wir den Status lokal\n    const now = new Date();\n    \n    // Aktualisierte Aufgabe\n    const updatedTask = {\n      ...selectedTask,\n      status: 'rejected',\n      completedAt: now,\n      comments: [\n        ...selectedTask.comments,\n        {\n          _id: `comment_reject_${Date.now()}`,\n          text: commentText || 'Aufgabe abgelehnt.',\n          createdBy: {\n            _id: 'currentUser',\n            name: 'Max Mustermann'\n          },\n          createdAt: now\n        }\n      ]\n    };\n    \n    // Tasks aktualisieren\n    setTasks(tasks.map(task => \n      task._id === selectedTask._id ? updatedTask : task\n    ));\n    \n    // Dialog schließen\n    handleCloseRejectDialog();\n    \n    // Erfolgsmeldung\n    alert('Aufgabe abgelehnt!');\n  };\n  \n  // Hilfsfunktionen\n  const formatDate = (date) => {\n    if (!date) return '-';\n    try {\n      return format(new Date(date), 'dd.MM.yyyy', { locale: de });\n    } catch (error) {\n      return 'Ungültiges Datum';\n    }\n  };\n  \n  // Status-Chip rendern\n  const renderStatusChip = (status) => {\n    const taskStatusInfo = taskStatus[status] || { label: status, color: '#757575' };\n    return (\n      <Chip\n        label={taskStatusInfo.label}\n        size=\"small\"\n        sx={{\n          backgroundColor: `${taskStatusInfo.color}20`,\n          color: taskStatusInfo.color,\n          borderColor: taskStatusInfo.color,\n          fontWeight: 'medium'\n        }}\n        variant=\"outlined\"\n      />\n    );\n  };\n  \n  // Prioritäts-Chip rendern\n  const renderPriorityChip = (priority) => {\n    const priorityInfo = priorities[priority] || { label: priority, color: '#757575' };\n    const icon = priority === 'high' ? <HighPriorityIcon fontSize=\"small\" /> : null;\n    return (\n      <Chip\n        icon={icon}\n        label={priorityInfo.label}\n        size=\"small\"\n        sx={{\n          backgroundColor: `${priorityInfo.color}20`,\n          color: priorityInfo.color,\n          fontWeight: 'medium'\n        }}\n      />\n    );\n  };\n  \n  // Dokument-Icon basierend auf Typ rendern\n  const renderDocumentTypeIcon = (type) => {\n    const docType = documentTypes[type] || documentTypes.other;\n    return (\n      <Tooltip title={docType.label}>\n        <Box sx={{ color: docType.color, display: 'flex' }}>\n          {docType.icon}\n        </Box>\n      </Tooltip>\n    );\n  };\n  \n  // Status-Icon basierend auf Status rendern\n  const renderStatusIcon = (status) => {\n    switch (status) {\n      case 'completed':\n        return <CompletedIcon sx={{ color: taskStatus.completed.color }} />;\n      case 'rejected':\n        return <RejectedIcon sx={{ color: taskStatus.rejected.color }} />;\n      case 'in_progress':\n        return <TaskIcon sx={{ color: taskStatus.in_progress.color }} />;\n      case 'overdue':\n        return <TimeIcon sx={{ color: taskStatus.overdue.color }} />;\n      default:\n        return <PendingIcon sx={{ color: taskStatus.pending.color }} />;\n    }\n  };\n  \n  // Fälligkeitsanzeige rendern\n  const renderDueDate = (task) => {\n    if (!task.dueDate) return '-';\n    \n    const now = new Date();\n    const dueDate = new Date(task.dueDate);\n    \n    // Für abgeschlossene Aufgaben\n    if (task.status === 'completed' || task.status === 'rejected') {\n      return formatDate(task.dueDate);\n    }\n    \n    // Überfällig\n    if (isBefore(dueDate, now)) {\n      return (\n        <Box sx={{ display: 'flex', alignItems: 'center', color: 'error.main' }}>\n          <TimeIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n          <Typography variant=\"body2\" color=\"error\">\n            Überfällig seit {formatDate(task.dueDate)}\n          </Typography>\n        </Box>\n      );\n    }\n    \n    // Bald fällig (in den nächsten 2 Tagen)\n    if (isBefore(dueDate, addDays(now, 2))) {\n      return (\n        <Box sx={{ display: 'flex', alignItems: 'center', color: 'warning.main' }}>\n          <TimeIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n          <Typography variant=\"body2\" color=\"warning.main\">\n            Fällig am {formatDate(task.dueDate)}\n          </Typography>\n        </Box>\n      );\n    }\n    \n    // Normal\n    return formatDate(task.dueDate);\n  };\n  \n  // Paginierte Aufgaben\n  const paginatedTasks = filteredTasks\n    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n  \n  // Leere Zeilen für Pagination\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, filteredTasks.length - page * rowsPerPage);\n  \n  return (\n    <Box sx={{ p: 3 }}>\n      <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          <TaskIcon sx={{ fontSize: 30, mr: 1, color: theme.palette.info.main }} />\n          <Typography variant=\"h4\">Meine Aufgaben</Typography>\n        </Box>\n      </Box>\n      \n      {/* Tabs */}\n      <Paper sx={{ width: '100%' }}>\n        <Tabs\n          value={tabValue}\n          onChange={handleTabChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n        >\n          <Tab \n            label={\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                <TaskIcon sx={{ mr: 1 }} />\n                <span>Aktive Aufgaben</span>\n                {filteredTasks.length > 0 && tabValue === 0 && (\n                  <Chip\n                    label={filteredTasks.length}\n                    size=\"small\"\n                    sx={{ ml: 1, minWidth: 30 }}\n                  />\n                )}\n              </Box>\n            } \n          />\n          <Tab \n            label={\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                <CheckCircle sx={{ mr: 1 }} />\n                <span>Abgeschlossene Aufgaben</span>\n              </Box>\n            } \n          />\n        </Tabs>\n        \n        {/* Aktive Aufgaben */}\n        <TabPanel value={tabValue} index={0}>\n          {loading ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : error ? (\n            <Alert severity=\"error\" sx={{ m: 2 }}>{error}</Alert>\n          ) : (\n            <TableContainer sx={{ maxHeight: 'calc(100vh - 250px)' }}>\n              <Table stickyHeader>\n                <TableHead>\n                  <TableRow>\n                    <TableCell width={40}></TableCell>\n                    <TableCell>Aufgabe</TableCell>\n                    <TableCell>Dokument</TableCell>\n                    <TableCell>Workflow</TableCell>\n                    <TableCell>Status</TableCell>\n                    <TableCell>Priorität</TableCell>\n                    <TableCell>Fälligkeit</TableCell>\n                    <TableCell width={100}>Aktionen</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {paginatedTasks.length > 0 ? (\n                    <>\n                      {paginatedTasks.map((task) => (\n                        <TableRow\n                          hover\n                          key={task._id}\n                          sx={{\n                            cursor: 'pointer',\n                            '&:hover': { backgroundColor: 'action.hover' }\n                          }}\n                        >\n                          <TableCell>\n                            {renderStatusIcon(task.status)}\n                          </TableCell>\n                          <TableCell>\n                            <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\n                              {task.title}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              Zugewiesen am {formatDate(task.assignedAt)}\n                            </Typography>\n                          </TableCell>\n                          <TableCell>\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              {renderDocumentTypeIcon(task.document.documentType)}\n                              <Typography variant=\"body2\" sx={{ ml: 1 }}>\n                                {task.document.title}\n                              </Typography>\n                            </Box>\n                          </TableCell>\n                          <TableCell>{task.workflow.name}</TableCell>\n                          <TableCell>{renderStatusChip(task.status)}</TableCell>\n                          <TableCell>{renderPriorityChip(task.priority)}</TableCell>\n                          <TableCell>{renderDueDate(task)}</TableCell>\n                          <TableCell>\n                            <Box sx={{ display: 'flex' }}>\n                              <Tooltip title=\"Dokument anzeigen\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => navigate(`/documents/${task.document._id}`)}\n                                >\n                                  <ViewIcon />\n                                </IconButton>\n                              </Tooltip>\n                              <IconButton\n                                size=\"small\"\n                                onClick={(e) => handleActionClick(e, task)}\n                              >\n                                <MoreIcon />\n                              </IconButton>\n                            </Box>\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                      {emptyRows > 0 && (\n                        <TableRow style={{ height: 53 * emptyRows }}>\n                          <TableCell colSpan={8} />\n                        </TableRow>\n                      )}\n                    </>\n                  ) : (\n                    <TableRow>\n                      <TableCell colSpan={8} align=\"center\" sx={{ py: 3 }}>\n                        <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                          <TaskIcon sx={{ fontSize: 50, color: 'text.secondary', mb: 1 }} />\n                          <Typography variant=\"h6\" color=\"text.secondary\">\n                            Keine aktiven Aufgaben\n                          </Typography>\n                          <Typography variant=\"body2\" color=\"text.secondary\">\n                            Alle Ihre Aufgaben wurden erledigt!\n                          </Typography>\n                        </Box>\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          )}\n          \n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25]}\n            component=\"div\"\n            count={filteredTasks.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onPageChange={handleChangePage}\n            onRowsPerPageChange={handleChangeRowsPerPage}\n            labelRowsPerPage=\"Zeilen pro Seite:\"\n            labelDisplayedRows={({ from, to, count }) => \n              `${from}-${to} von ${count !== -1 ? count : `mehr als ${to}`}`\n            }\n          />\n        </TabPanel>\n        \n        {/* Abgeschlossene Aufgaben */}\n        <TabPanel value={tabValue} index={1}>\n          {loading ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : error ? (\n            <Alert severity=\"error\" sx={{ m: 2 }}>{error}</Alert>\n          ) : (\n            <TableContainer sx={{ maxHeight: 'calc(100vh - 250px)' }}>\n              <Table stickyHeader>\n                <TableHead>\n                  <TableRow>\n                    <TableCell width={40}></TableCell>\n                    <TableCell>Aufgabe</TableCell>\n                    <TableCell>Dokument</TableCell>\n                    <TableCell>Workflow</TableCell>\n                    <TableCell>Status</TableCell>\n                    <TableCell>Erledigt am</TableCell>\n                    <TableCell>Kommentare</TableCell>\n                    <TableCell width={70}>Aktionen</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {paginatedTasks.length > 0 ? (\n                    <>\n                      {paginatedTasks.map((task) => (\n                        <TableRow\n                          hover\n                          key={task._id}\n                          sx={{\n                            cursor: 'pointer',\n                            '&:hover': { backgroundColor: 'action.hover' }\n                          }}\n                        >\n                          <TableCell>\n                            {renderStatusIcon(task.status)}\n                          </TableCell>\n                          <TableCell>\n                            <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\n                              {task.title}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              Zugewiesen am {formatDate(task.assignedAt)}\n                            </Typography>\n                          </TableCell>\n                          <TableCell>\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              {renderDocumentTypeIcon(task.document.documentType)}\n                              <Typography variant=\"body2\" sx={{ ml: 1 }}>\n                                {task.document.title}\n                              </Typography>\n                            </Box>\n                          </TableCell>\n                          <TableCell>{task.workflow.name}</TableCell>\n                          <TableCell>{renderStatusChip(task.status)}</TableCell>\n                          <TableCell>{formatDate(task.completedAt)}</TableCell>\n                          <TableCell>\n                            {task.comments.length > 0 ? (\n                              <Chip\n                                icon={<CommentIcon />}\n                                label={`${task.comments.length} Kommentar${task.comments.length !== 1 ? 'e' : ''}`}\n                                size=\"small\"\n                              />\n                            ) : (\n                              <Typography variant=\"body2\" color=\"text.secondary\">\n                                Keine Kommentare\n                              </Typography>\n                            )}\n                          </TableCell>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={(e) => handleActionClick(e, task)}\n                            >\n                              <MoreIcon />\n                            </IconButton>\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                      {emptyRows > 0 && (\n                        <TableRow style={{ height: 53 * emptyRows }}>\n                          <TableCell colSpan={8} />\n                        </TableRow>\n                      )}\n                    </>\n                  ) : (\n                    <TableRow>\n                      <TableCell colSpan={8} align=\"center\" sx={{ py: 3 }}>\n                        <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                          <CheckCircle sx={{ fontSize: 50, color: 'text.secondary', mb: 1 }} />\n                          <Typography variant=\"h6\" color=\"text.secondary\">\n                            Keine abgeschlossenen Aufgaben\n                          </Typography>\n                          <Typography variant=\"body2\" color=\"text.secondary\">\n                            Alle Ihre Aufgaben sind noch in Bearbeitung.\n                          </Typography>\n                        </Box>\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          )}\n          \n          <TablePagination\n            rowsPerPageOptions={[5, 10, 25]}\n            component=\"div\"\n            count={filteredTasks.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            onPageChange={handleChangePage}\n            onRowsPerPageChange={handleChangeRowsPerPage}\n            labelRowsPerPage=\"Zeilen pro Seite:\"\n            labelDisplayedRows={({ from, to, count }) => \n              `${from}-${to} von ${count !== -1 ? count : `mehr als ${to}`}`\n            }\n          />\n        </TabPanel>\n      </Paper>\n      \n      {/* Aktionen-Menü */}\n      <Menu\n        anchorEl={actionAnchorEl}\n        open={Boolean(actionAnchorEl)}\n        onClose={handleActionClose}\n      >\n        <MenuItem onClick={handleViewDocument}>\n          <ListItemIcon>\n            <ViewIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText>Dokument anzeigen</ListItemText>\n        </MenuItem>\n        \n        {selectedTask && ['pending', 'in_progress', 'overdue'].includes(selectedTask.status) && (\n          <>\n            <MenuItem onClick={handleOpenApproveDialog}>\n              <ListItemIcon>\n                <ApproveIcon fontSize=\"small\" color=\"success\" />\n              </ListItemIcon>\n              <ListItemText>Genehmigen</ListItemText>\n            </MenuItem>\n            <MenuItem onClick={handleOpenRejectDialog}>\n              <ListItemIcon>\n                <RejectIcon fontSize=\"small\" color=\"error\" />\n              </ListItemIcon>\n              <ListItemText>Ablehnen</ListItemText>\n            </MenuItem>\n          </>\n        )}\n      </Menu>\n      \n      {/* Genehmigungs-Dialog */}\n      <Dialog\n        open={approveDialogOpen}\n        onClose={handleCloseApproveDialog}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Aufgabe genehmigen</DialogTitle>\n        <DialogContent>\n          <Typography paragraph>\n            Möchten Sie die folgende Aufgabe genehmigen?\n          </Typography>\n          <Typography variant=\"subtitle1\" gutterBottom>\n            {selectedTask?.title}\n          </Typography>\n          <Typography paragraph>\n            Dokument: {selectedTask?.document.title}\n          </Typography>\n          <TextField\n            fullWidth\n            label=\"Kommentar (optional)\"\n            multiline\n            rows={3}\n            value={commentText}\n            onChange={handleCommentChange}\n            margin=\"normal\"\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseApproveDialog}>Abbrechen</Button>\n          <Button onClick={handleApproveTask} color=\"primary\" variant=\"contained\">\n            Genehmigen\n          </Button>\n        </DialogActions>\n      </Dialog>\n      \n      {/* Ablehnungs-Dialog */}\n      <Dialog\n        open={rejectDialogOpen}\n        onClose={handleCloseRejectDialog}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Aufgabe ablehnen</DialogTitle>\n        <DialogContent>\n          <Typography paragraph>\n            Möchten Sie die folgende Aufgabe ablehnen?\n          </Typography>\n          <Typography variant=\"subtitle1\" gutterBottom>\n            {selectedTask?.title}\n          </Typography>\n          <Typography paragraph>\n            Dokument: {selectedTask?.document.title}\n          </Typography>\n          <TextField\n            fullWidth\n            label=\"Ablehnungsgrund (empfohlen)\"\n            multiline\n            rows={3}\n            value={commentText}\n            onChange={handleCommentChange}\n            margin=\"normal\"\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseRejectDialog}>Abbrechen</Button>\n          <Button onClick={handleRejectTask} color=\"error\" variant=\"contained\">\n            Ablehnen\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default WorkflowTasks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}